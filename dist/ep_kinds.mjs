const ep_proto$1 = Object.create(Object.getPrototypeOf(function () {}), { _unwrap_: { get: _unwrap_ } });

function _unwrap_() {
  const self = Object.create(this);
  self.endpoint = v => v;
  return self;
}

function add_ep_kind(kinds) {
  Object.assign(ep_proto$1, kinds);
}

add_ep_kind({
  client(...args) {
    if (1 === args.length && 'function' === typeof args[0]) {
      return this.clientEndpoint(args[0]);
    }

    const msg_ctx = new this.MsgCtx();
    return 0 !== args.length ? msg_ctx.to(...args) : msg_ctx;
  },

  clientEndpoint(on_client) {
    const target = clientEndpoint(on_client);
    const ep_tgt = this.endpoint(target);
    return target.done;
  },

  client_api(on_client, api) {
    const target = clientEndpoint(on_client);
    const ep_api = this._unwrap_.api_parallel(api);
    const ep_tgt = this.endpoint((ep, hub) => Object.assign(target, ep_api(ep, hub)));
    return target.done;
  } });

const ep_client_api = {
  async on_ready(ep, hub) {
    this._resolve((await this.on_client(ep, hub)));
    await ep.shutdown();
  },
  on_send_error(ep, err) {
    this._reject(err);
  },
  on_shutdown(ep, err) {
    err ? this._reject(err) : this._resolve();
  } };

function clientEndpoint(on_client) {
  const target = Object.create(ep_client_api);
  if ('function' !== typeof on_client) {
    if (on_client.on_ready) {
      throw new TypeError(`Use "on_client()" instead of "on_ready()" with clientEndpoint`);
    }
    Object.assign(target, on_client);
  } else {
    target.on_client = on_client;
  }

  target.done = new Promise((resolve, reject) => {
    target._resolve = resolve;
    target._reject = reject;
  });
  return target;
}

add_ep_kind({
  api_bind_rpc,
  api(api) {
    return this.api_parallel(api);
  },
  api_parallel(api) {
    return this.endpoint(function (ep, hub) {
      const rpc = api_bind_rpc(api, ep, hub);
      return { rpc,
        async on_msg({ msg, sender }) {
          await rpc.invoke(sender, msg.op, api_fn => api_fn(msg.kw, msg.ctx));
        } };
    });
  },

  api_inorder(api) {
    return this.endpoint(function (ep, hub) {
      const rpc = api_bind_rpc(api, ep, hub);
      return { rpc,
        async on_msg({ msg, sender }) {
          await rpc.invoke_gated(sender, msg.op, api_fn => api_fn(msg.kw, msg.ctx));
        } };
    });
  } });

function api_bind_rpc(api, ep, hub) {
  const pfx = api.op_prefix || 'rpc_';
  const lookup_op = api.op_lookup ? op => api.op_lookup(pfx + op, ep, hub) : 'function' === typeof api ? op => api(pfx + op, ep, hub) : op => {
    const fn = api[pfx + op];
    return fn ? fn.bind(api) : fn;
  };

  return Object.create(rpc_api, {
    lookup_op: { value: lookup_op },
    err_from: { value: ep.ep_self() } });
}

const rpc_api = {
  async invoke(sender, op, cb) {
    const api_fn = await this.resolve_op(sender, op);
    if (undefined === api_fn) {
      return;
    }

    const res = this.answer(sender, api_fn, cb);
    return await res;
  },

  async invoke_gated(sender, op, cb) {
    const api_fn = await this.resolve_op(sender, op);
    if (undefined === api_fn) {
      return;
    }

    const res = Promise.resolve(this.gate).then(() => this.answer(sender, api_fn, cb));
    this.gate = res.then(noop, noop);
    return await res;
  },

  async resolve_op(sender, op) {
    if ('string' !== typeof op) {
      await sender.send({ op, err_from: this.err_from,
        error: { message: 'Invalid operation', code: 400 } });
      return;
    }

    try {
      const api_fn = await this.lookup_op(op);
      if (!api_fn) {
        await sender.send({ op, err_from: this.err_from,
          error: { message: 'Unknown operation', code: 404 } });
      }
      return api_fn;
    } catch (err) {
      await sender.send({ op, err_from: this.err_from,
        error: { message: `Invalid operation: ${err.message}`, code: 500 } });
    }
  },

  async answer(sender, api_fn, cb) {
    try {
      var answer = cb ? await cb(api_fn) : await api_fn();
    } catch (err) {
      await sender.send({ err_from: this.err_from, error: err });
      return false;
    }

    if (sender.replyExpected) {
      await sender.send({ answer });
    }
    return true;
  } };

function noop() {}

add_ep_kind({
  server(on_init) {
    return this.endpoint(on_init);
  } });

export { clientEndpoint };
export default ep_proto$1;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXBfa2luZHMubWpzIiwic291cmNlcyI6WyIuLi9jb2RlL2VwX2tpbmRzL2V4dGVuc2lvbnMuanN5IiwiLi4vY29kZS9lcF9raW5kcy9jbGllbnQuanN5IiwiLi4vY29kZS9lcF9raW5kcy9hcGkuanN5IiwiLi4vY29kZS9lcF9raW5kcy9pbmRleC5qc3kiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGVwX3Byb3RvID0gT2JqZWN0LmNyZWF0ZSBAXG4gIE9iamVjdC5nZXRQcm90b3R5cGVPZiBAIGZ1bmN0aW9uKCl7fVxuICBAe30gX3Vud3JhcF86IEB7fSBnZXQ6IF91bndyYXBfXG5cbmZ1bmN0aW9uIF91bndyYXBfKCkgOjpcbiAgY29uc3Qgc2VsZiA9IE9iamVjdC5jcmVhdGUodGhpcylcbiAgc2VsZi5lbmRwb2ludCA9IHYgPT4gdlxuICByZXR1cm4gc2VsZlxuXG5leHBvcnQgZnVuY3Rpb24gYWRkX2VwX2tpbmQoa2luZHMpIDo6XG4gIE9iamVjdC5hc3NpZ24gQCBlcF9wcm90bywga2luZHNcbmV4cG9ydCBkZWZhdWx0IGFkZF9lcF9raW5kXG5cbiIsImltcG9ydCBhZGRfZXBfa2luZCBmcm9tICcuL2V4dGVuc2lvbnMuanN5J1xuXG5hZGRfZXBfa2luZCBAOlxuICBjbGllbnQoLi4uYXJncykgOjpcbiAgICBpZiAxID09PSBhcmdzLmxlbmd0aCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgYXJnc1swXSA6OlxuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50RW5kcG9pbnQgQCBhcmdzWzBdXG5cbiAgICBjb25zdCBtc2dfY3R4ID0gbmV3IHRoaXMuTXNnQ3R4KClcbiAgICByZXR1cm4gMCAhPT0gYXJncy5sZW5ndGggPyBtc2dfY3R4LnRvKC4uLmFyZ3MpIDogbXNnX2N0eFxuXG4gIGNsaWVudEVuZHBvaW50KG9uX2NsaWVudCkgOjpcbiAgICBjb25zdCB0YXJnZXQgPSBjbGllbnRFbmRwb2ludChvbl9jbGllbnQpXG4gICAgY29uc3QgZXBfdGd0ID0gdGhpcy5lbmRwb2ludCBAIHRhcmdldFxuICAgIHJldHVybiB0YXJnZXQuZG9uZVxuXG4gIGNsaWVudF9hcGkob25fY2xpZW50LCBhcGkpIDo6XG4gICAgY29uc3QgdGFyZ2V0ID0gY2xpZW50RW5kcG9pbnQob25fY2xpZW50KVxuICAgIGNvbnN0IGVwX2FwaSA9IHRoaXMuX3Vud3JhcF8uYXBpX3BhcmFsbGVsKGFwaSlcbiAgICBjb25zdCBlcF90Z3QgPSB0aGlzLmVuZHBvaW50IEAgKGVwLCBodWIpID0+XG4gICAgICBPYmplY3QuYXNzaWduIEAgdGFyZ2V0LCBlcF9hcGkoZXAsIGh1YilcbiAgICByZXR1cm4gdGFyZ2V0LmRvbmVcblxuXG5jb25zdCBlcF9jbGllbnRfYXBpID0gQHt9XG4gIGFzeW5jIG9uX3JlYWR5KGVwLCBodWIpIDo6XG4gICAgdGhpcy5fcmVzb2x2ZSBAIGF3YWl0IHRoaXMub25fY2xpZW50KGVwLCBodWIpXG4gICAgYXdhaXQgZXAuc2h1dGRvd24oKVxuICBvbl9zZW5kX2Vycm9yKGVwLCBlcnIpIDo6XG4gICAgdGhpcy5fcmVqZWN0KGVycilcbiAgb25fc2h1dGRvd24oZXAsIGVycikgOjpcbiAgICBlcnIgPyB0aGlzLl9yZWplY3QoZXJyKSA6IHRoaXMuX3Jlc29sdmUoKVxuXG5leHBvcnQgZnVuY3Rpb24gY2xpZW50RW5kcG9pbnQob25fY2xpZW50KSA6OlxuICBjb25zdCB0YXJnZXQgPSBPYmplY3QuY3JlYXRlIEAgZXBfY2xpZW50X2FwaVxuICBpZiAnZnVuY3Rpb24nICE9PSB0eXBlb2Ygb25fY2xpZW50IDo6XG4gICAgaWYgb25fY2xpZW50Lm9uX3JlYWR5IDo6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yIEAgYFVzZSBcIm9uX2NsaWVudCgpXCIgaW5zdGVhZCBvZiBcIm9uX3JlYWR5KClcIiB3aXRoIGNsaWVudEVuZHBvaW50YFxuICAgIE9iamVjdC5hc3NpZ24gQCB0YXJnZXQsIG9uX2NsaWVudFxuICBlbHNlIDo6XG4gICAgdGFyZ2V0Lm9uX2NsaWVudCA9IG9uX2NsaWVudFxuXG4gIHRhcmdldC5kb25lID0gbmV3IFByb21pc2UgQCAocmVzb2x2ZSwgcmVqZWN0KSA9PiA6OlxuICAgIHRhcmdldC5fcmVzb2x2ZSA9IHJlc29sdmVcbiAgICB0YXJnZXQuX3JlamVjdCA9IHJlamVjdFxuICByZXR1cm4gdGFyZ2V0XG4iLCJpbXBvcnQgYWRkX2VwX2tpbmQgZnJvbSAnLi9leHRlbnNpb25zLmpzeSdcblxuYWRkX2VwX2tpbmQgQDpcbiAgYXBpX2JpbmRfcnBjXG4gIGFwaShhcGkpIDo6IHJldHVybiB0aGlzLmFwaV9wYXJhbGxlbChhcGkpXG4gIGFwaV9wYXJhbGxlbChhcGkpIDo6XG4gICAgcmV0dXJuIHRoaXMuZW5kcG9pbnQgQCBmdW5jdGlvbiAoZXAsIGh1YikgOjpcbiAgICAgIGNvbnN0IHJwYyA9IGFwaV9iaW5kX3JwYyhhcGksIGVwLCBodWIpXG4gICAgICByZXR1cm4gQHt9IHJwYyxcbiAgICAgICAgYXN5bmMgb25fbXNnKHttc2csIHNlbmRlcn0pIDo6XG4gICAgICAgICAgYXdhaXQgcnBjLmludm9rZSBAIHNlbmRlciwgbXNnLm9wLFxuICAgICAgICAgICAgYXBpX2ZuID0+IGFwaV9mbihtc2cua3csIG1zZy5jdHgpXG5cbiAgYXBpX2lub3JkZXIoYXBpKSA6OlxuICAgIHJldHVybiB0aGlzLmVuZHBvaW50IEAgZnVuY3Rpb24gKGVwLCBodWIpIDo6XG4gICAgICBjb25zdCBycGMgPSBhcGlfYmluZF9ycGMoYXBpLCBlcCwgaHViKVxuICAgICAgcmV0dXJuIEB7fSBycGMsXG4gICAgICAgIGFzeW5jIG9uX21zZyh7bXNnLCBzZW5kZXJ9KSA6OlxuICAgICAgICAgIGF3YWl0IHJwYy5pbnZva2VfZ2F0ZWQgQCBzZW5kZXIsIG1zZy5vcCxcbiAgICAgICAgICAgIGFwaV9mbiA9PiBhcGlfZm4obXNnLmt3LCBtc2cuY3R4KVxuXG5cbmZ1bmN0aW9uIGFwaV9iaW5kX3JwYyhhcGksIGVwLCBodWIpIDo6XG4gIGNvbnN0IHBmeCA9IGFwaS5vcF9wcmVmaXggfHwgJ3JwY18nXG4gIGNvbnN0IGxvb2t1cF9vcCA9IGFwaS5vcF9sb29rdXBcbiAgICA/IG9wID0+IGFwaS5vcF9sb29rdXAocGZ4ICsgb3AsIGVwLCBodWIpXG4gICAgOiAnZnVuY3Rpb24nID09PSB0eXBlb2YgYXBpXG4gICAgPyBvcCA9PiBhcGkocGZ4ICsgb3AsIGVwLCBodWIpXG4gICAgOiBvcCA9PiA6OlxuICAgICAgICBjb25zdCBmbiA9IGFwaVtwZnggKyBvcF1cbiAgICAgICAgcmV0dXJuIGZuID8gZm4uYmluZChhcGkpIDogZm5cblxuICByZXR1cm4gT2JqZWN0LmNyZWF0ZSBAIHJwY19hcGksIEB7fVxuICAgIGxvb2t1cF9vcDogQHt9IHZhbHVlOiBsb29rdXBfb3BcbiAgICBlcnJfZnJvbTogQHt9IHZhbHVlOiBlcC5lcF9zZWxmKClcblxuXG5jb25zdCBycGNfYXBpID0gQDpcbiAgYXN5bmMgaW52b2tlKHNlbmRlciwgb3AsIGNiKSA6OlxuICAgIGNvbnN0IGFwaV9mbiA9IGF3YWl0IHRoaXMucmVzb2x2ZV9vcCBAIHNlbmRlciwgb3BcbiAgICBpZiB1bmRlZmluZWQgPT09IGFwaV9mbiA6OiByZXR1cm5cblxuICAgIGNvbnN0IHJlcyA9IHRoaXMuYW5zd2VyIEAgc2VuZGVyLCBhcGlfZm4sIGNiXG4gICAgcmV0dXJuIGF3YWl0IHJlc1xuXG4gIGFzeW5jIGludm9rZV9nYXRlZChzZW5kZXIsIG9wLCBjYikgOjpcbiAgICBjb25zdCBhcGlfZm4gPSBhd2FpdCB0aGlzLnJlc29sdmVfb3AgQCBzZW5kZXIsIG9wXG4gICAgaWYgdW5kZWZpbmVkID09PSBhcGlfZm4gOjogcmV0dXJuXG5cbiAgICBjb25zdCByZXMgPSBQcm9taXNlLnJlc29sdmUodGhpcy5nYXRlKVxuICAgICAgLnRoZW4gQCAoKSA9PiB0aGlzLmFuc3dlciBAIHNlbmRlciwgYXBpX2ZuLCBjYlxuICAgIHRoaXMuZ2F0ZSA9IHJlcy50aGVuKG5vb3AsIG5vb3ApXG4gICAgcmV0dXJuIGF3YWl0IHJlc1xuXG4gIGFzeW5jIHJlc29sdmVfb3Aoc2VuZGVyLCBvcCkgOjpcbiAgICBpZiAnc3RyaW5nJyAhPT0gdHlwZW9mIG9wIDo6XG4gICAgICBhd2FpdCBzZW5kZXIuc2VuZCBAOiBvcCwgZXJyX2Zyb206IHRoaXMuZXJyX2Zyb21cbiAgICAgICAgZXJyb3I6IEB7fSBtZXNzYWdlOiAnSW52YWxpZCBvcGVyYXRpb24nLCBjb2RlOiA0MDBcbiAgICAgIHJldHVyblxuXG4gICAgdHJ5IDo6XG4gICAgICBjb25zdCBhcGlfZm4gPSBhd2FpdCB0aGlzLmxvb2t1cF9vcChvcClcbiAgICAgIGlmICEgYXBpX2ZuIDo6XG4gICAgICAgIGF3YWl0IHNlbmRlci5zZW5kIEA6IG9wLCBlcnJfZnJvbTogdGhpcy5lcnJfZnJvbVxuICAgICAgICAgIGVycm9yOiBAe30gbWVzc2FnZTogJ1Vua25vd24gb3BlcmF0aW9uJywgY29kZTogNDA0XG4gICAgICByZXR1cm4gYXBpX2ZuXG4gICAgY2F0Y2ggZXJyIDo6XG4gICAgICBhd2FpdCBzZW5kZXIuc2VuZCBAOiBvcCwgZXJyX2Zyb206IHRoaXMuZXJyX2Zyb21cbiAgICAgICAgZXJyb3I6IEB7fSBtZXNzYWdlOiBgSW52YWxpZCBvcGVyYXRpb246ICR7ZXJyLm1lc3NhZ2V9YCwgY29kZTogNTAwXG5cbiAgYXN5bmMgYW5zd2VyKHNlbmRlciwgYXBpX2ZuLCBjYikgOjpcbiAgICB0cnkgOjpcbiAgICAgIHZhciBhbnN3ZXIgPSBjYiA/IGF3YWl0IGNiKGFwaV9mbikgOiBhd2FpdCBhcGlfZm4oKVxuICAgIGNhdGNoIGVyciA6OlxuICAgICAgYXdhaXQgc2VuZGVyLnNlbmQgQDogZXJyX2Zyb206IHRoaXMuZXJyX2Zyb20sIGVycm9yOiBlcnJcbiAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgaWYgc2VuZGVyLnJlcGx5RXhwZWN0ZWQgOjpcbiAgICAgIGF3YWl0IHNlbmRlci5zZW5kIEA6IGFuc3dlclxuICAgIHJldHVybiB0cnVlXG5cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbiIsImltcG9ydCB7YWRkX2VwX2tpbmQsIGVwX3Byb3RvfSBmcm9tICcuL2V4dGVuc2lvbnMuanN5J1xuXG5hZGRfZXBfa2luZCBAOlxuICBzZXJ2ZXIob25faW5pdCkgOjogcmV0dXJuIHRoaXMuZW5kcG9pbnQgQCBvbl9pbml0XG5cbmV4cG9ydCAqIGZyb20gJy4vY2xpZW50LmpzeSdcbmV4cG9ydCAqIGZyb20gJy4vYXBpLmpzeSdcblxuZXhwb3J0IGRlZmF1bHQgZXBfcHJvdG9cbiJdLCJuYW1lcyI6WyJlcF9wcm90byIsIk9iamVjdCIsImNyZWF0ZSIsImdldFByb3RvdHlwZU9mIiwiX3Vud3JhcF8iLCJnZXQiLCJzZWxmIiwiZW5kcG9pbnQiLCJ2IiwiYWRkX2VwX2tpbmQiLCJraW5kcyIsImFzc2lnbiIsImFyZ3MiLCJsZW5ndGgiLCJjbGllbnRFbmRwb2ludCIsIm1zZ19jdHgiLCJNc2dDdHgiLCJ0byIsIm9uX2NsaWVudCIsInRhcmdldCIsImVwX3RndCIsImRvbmUiLCJhcGkiLCJlcF9hcGkiLCJhcGlfcGFyYWxsZWwiLCJlcCIsImh1YiIsImVwX2NsaWVudF9hcGkiLCJvbl9yZWFkeSIsIl9yZXNvbHZlIiwic2h1dGRvd24iLCJlcnIiLCJfcmVqZWN0IiwiVHlwZUVycm9yIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJycGMiLCJhcGlfYmluZF9ycGMiLCJvbl9tc2ciLCJtc2ciLCJzZW5kZXIiLCJpbnZva2UiLCJvcCIsImFwaV9mbiIsImt3IiwiY3R4IiwiaW52b2tlX2dhdGVkIiwicGZ4Iiwib3BfcHJlZml4IiwibG9va3VwX29wIiwib3BfbG9va3VwIiwiZm4iLCJiaW5kIiwicnBjX2FwaSIsInZhbHVlIiwiZXBfc2VsZiIsImNiIiwicmVzb2x2ZV9vcCIsInVuZGVmaW5lZCIsInJlcyIsImFuc3dlciIsImdhdGUiLCJ0aGVuIiwibm9vcCIsInNlbmQiLCJlcnJfZnJvbSIsIm1lc3NhZ2UiLCJjb2RlIiwiZXJyb3IiLCJyZXBseUV4cGVjdGVkIiwib25faW5pdCJdLCJt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
