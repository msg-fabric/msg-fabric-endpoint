import {randomBytes} from 'crypto'
import endpoint_plugin from './plugin.jsy'

endpoint_nodejs.random_id_target = random_id_target
function random_id_target() ::
  return randomBytes(4).readInt32LE()

export default function endpoint_nodejs(plugin_options={}) ::
  if null == plugin_options.random_id_target ::
    plugin_options.random_id_target = random_id_target

  return endpoint_plugin(plugin_options)

